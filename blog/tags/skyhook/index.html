<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">One post tagged with &quot;skyhook&quot; | Skyhook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://aerospike.github.io/skyhook/blog/tags/skyhook"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="One post tagged with &quot;skyhook&quot; | Skyhook"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/skyhook/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aerospike.github.io/skyhook/blog/tags/skyhook"><link data-rh="true" rel="alternate" href="https://aerospike.github.io/skyhook/blog/tags/skyhook" hreflang="en"><link data-rh="true" rel="alternate" href="https://aerospike.github.io/skyhook/blog/tags/skyhook" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/skyhook/blog/rss.xml" title="Skyhook RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/skyhook/blog/atom.xml" title="Skyhook Atom Feed"><link rel="stylesheet" href="/skyhook/assets/css/styles.d2c8270d.css">
<link rel="preload" href="/skyhook/assets/js/runtime~main.6c7332c8.js" as="script">
<link rel="preload" href="/skyhook/assets/js/main.a26ea453.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/skyhook/"><div class="navbar__logo"><img src="/skyhook/img/logo.png" alt="Skyhook" class="themedImage_ToTc themedImage--light_HNdA"><img src="/skyhook/img/logo.png" alt="Skyhook" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Skyhook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/skyhook/blog">Blog</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/skyhook/">0.10.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/skyhook/next/">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/skyhook/">0.10.0</a></li><li><a class="dropdown__link" href="/skyhook/0.9.0/">0.9.0</a></li></ul></div><a href="https://github.com/aerospike/skyhook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>One post tagged with &quot;skyhook&quot;</h1><a href="/skyhook/blog/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/skyhook/blog/introducing-skyhook">Introducing Skyhook</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2021-08-30T00:00:00.000Z" itemprop="datePublished">August 30, 2021</time> · <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><blockquote><p><em><a href="https://dev.to/aerospike/skyhook-a-redis-compatible-interface-to-aerospike-database-4hjj" target="_blank" rel="noopener noreferrer">https://dev.to/aerospike/skyhook-a-redis-compatible-interface-to-aerospike-database-4hjj</a></em></p></blockquote><p><a href="https://www.aerospike.com/" target="_blank" rel="noopener noreferrer">Aerospike</a> is a highly available and scalable NoSQL distributed database used in production to provide blazingly fast performance at Petabyte scale. Production deployments of Aerospike are almost always serving their data from NVMe drives, though it’s possible to run namespaces in memory.</p><p>Redis is a well loved key-value data store that is widely used by developers, which was designed to run single node (single-threaded originally) and in-memory.
This article might be interesting to developers who are using <a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a> and looking for more scalable and highly available alternatives, or maybe already have some applications running on Aerospike.</p><p>Migrating to a different technology is always a challenging process. You need to train engineers, rewrite the codebase, and set up a production cluster to take over. Using <a href="https://github.com/aerospike/skyhook" target="_blank" rel="noopener noreferrer">Skyhook</a>, you can move applications to Aerospike first, then come back to rewrite them as Aerospike native, or if you’re satisfied with their performance, keep them as they are.
Or maybe you’re looking to expose your Aerospike data to external Redis-based applications? We would love to hear how you would use this project.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="skyhook-to-the-rescue">Skyhook to the rescue<a href="#skyhook-to-the-rescue" class="hash-link" aria-label="Direct link to Skyhook to the rescue" title="Direct link to Skyhook to the rescue">​</a></h2><p>We, as a company, observed this need and came up with the highly performant bridge service, which acts as a fully-fledged (with commands support limitation) Redis server, bridging the clients’ commands to Aerospike clusters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-details">Technical details<a href="#technical-details" class="hash-link" aria-label="Direct link to Technical details" title="Direct link to Technical details">​</a></h2><p>Skyhook is a standalone server application written in Kotlin, which projects Redis protocol commands to an Aerospike cluster using the Aerospike Java client under the hood. The server supports a single namespace and set configuration, where the incoming commands will be applied. This project uses <a href="https://netty.io/" target="_blank" rel="noopener noreferrer">Netty</a> as a non-blocking I/O client-server framework.</p><p>Netty, is a highly performant JVM asynchronous event-driven network application framework. Its customizable thread model and native transport support forge an incredibly performant network communication layer.</p><p>What’s left is to translate Redis commands to Aerospike commands, and here come the async capabilities of the Aerospike Java Client.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation-and-configuration">Installation and configuration<a href="#installation-and-configuration" class="hash-link" aria-label="Direct link to Installation and configuration" title="Direct link to Installation and configuration">​</a></h2><p>You will need JDK8 and an Aerospike Server version &gt;= 4.9 because Skyhook uses the new scan capabilities which are available starting from that version.</p><p>Clone <a href="https://github.com/aerospike/skyhook" target="_blank" rel="noopener noreferrer">aerospike/skyhook</a> or grab a prebuilt executable JAR from the <a href="https://github.com/aerospike/skyhook/releases" target="_blank" rel="noopener noreferrer">releases</a> to get started.</p><p>To build the service from the sources:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">./gradlew clean build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command will build an executable JAR file.</p><p>Skyhook is configured using a configuration file, and it’s in YAML format. You will need to specify it using the <code>-f</code> flag.</p><p>To run the server:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">java -jar skyhook-[version]-all.jar -f config/server.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>An example configuration file can be found in the config folder under the project repository.</p><p>Here are the current configuration properties available.</p><table><thead><tr><th>Property name</th><th>Description</th><th>Default value</th></tr></thead><tbody><tr><td>hostList</td><td>The host list to seed the Aerospike cluster.</td><td>localhost:3000</td></tr><tr><td>namespace</td><td>The Aerospike namespace.</td><td>test</td></tr><tr><td>set</td><td>The Aerospike set name.</td><td>redis</td></tr><tr><td>bin</td><td>The Aerospike bin name to set values.</td><td>b</td></tr><tr><td>redisPort</td><td>The server port to bind to.</td><td>6379</td></tr><tr><td>workerThreads<sup>1</sup></td><td>The Netty worker group size.</td><td>number of available cores</td></tr><tr><td>bossThreads</td><td>The Netty acceptor group size.</td><td>2</td></tr></tbody></table><sup>1</sup> `workerThreads` property is used to configure the size of the Aerospike Java Client EventLoops as well.<p><code>workerThreads</code> and <code>bossThreads</code> are the Netty thread pool sizes and can be easily fine-tuned for optimal performance.
After the server is up and running, any Redis client can connect to it as if it were a regular Redis server.</p><p>For the test purposes you can use redis-cli or even the nc (or netcat) utility:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &quot;GET key1\r\n&quot; | nc localhost 6379</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="benchmarking">Benchmarking<a href="#benchmarking" class="hash-link" aria-label="Direct link to Benchmarking" title="Direct link to Benchmarking">​</a></h2><p>From the very beginning, the project was built with an attention to performance, and the results speak for themselves.</p><p>Running this Redis benchmark:</p><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">redis-benchmark -t set -r 100000 -n 1000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We had the following results on local Skyhook with a single-node default configuration Aerospike cluster on Docker:</p><blockquote><p><em>Summary:</em><br>
<em>throughput summary: 13453.88 requests per second</em><br>
<em>latency summary (msec):</em><br>
<em>avg       min       p50       p95       p99    max</em><br>
<em>3.627     0.864     3.263     5.583     7.463  1012.223</em></p></blockquote><p>While those were the results for the Redis node running on Docker:</p><blockquote><p><em>Summary:</em><br>
<em>throughput summary: 14967.15 requests per second</em><br>
<em>latency summary (msec):</em><br>
<em>avg       min       p50       p95       p99    max</em><br>
<em>3.275     0.608     2.935     5.087     6.679  1006.591</em></p></blockquote><p>You can see that they are really close. More than that, we can multiply the number of the Skyhook nodes and significantly improve performance working with the same aerospike cluster. For instance, you can use the Round-robin DNS or any popular load balancer like HAProxy. This will not require any specific configuration since Skyhook is completely stateless.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">​</a></h2><p>The project is constantly evolving, having more and more commands being supported. You can find the coverage of the supported Redis commands in the <a href="https://github.com/aerospike/skyhook" target="_blank" rel="noopener noreferrer">repo readme</a>.</p><p>It will be really great to hear from you about the experience of using it. Also, your contributions to the project are very welcome.</p><p>If you encounter a bug, please report it or <a href="https://github.com/aerospike/skyhook/issues" target="_blank" rel="noopener noreferrer">open an issue</a> stating the commands you would like to be supported.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/skyhook/blog/tags/skyhook">skyhook</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/skyhook/blog/tags/redis">redis</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/skyhook/blog/tags/aerospike">aerospike</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/aerospike" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/aerospikedb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/skyhook/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/aerospike/skyhook" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Aerospike</div></div></div></footer></div>
<script src="/skyhook/assets/js/runtime~main.6c7332c8.js"></script>
<script src="/skyhook/assets/js/main.a26ea453.js"></script>
</body>
</html>